<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Account Search Simulation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0; height:100%; background:#000; color:#0f0;
  font-family:monospace; overflow:hidden;
}
.hidden{display:none}
.center{
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  height:100vh; text-align:center;
}

/* ---------- LOADING ---------- */
#loader{
  width:160px;height:160px;
  border:10px solid #111;
  border-top:10px solid #0f0;
  border-radius:50%;
  animation:spin 1s linear infinite;
}
@keyframes spin{100%{transform:rotate(360deg)}}
#percent{font-size:32px;margin-top:20px}

/* ---------- UI ---------- */
input,select,button{
  margin:8px;padding:10px;
  background:#111;color:#0f0;
  border:2px solid #0f0;
  font-size:16px;
}
button:hover{
  background:#0f0;color:#000;
  cursor:pointer;
}
.glow{
  text-shadow:0 0 10px #0f0,0 0 30px #0f0;
  animation:glow 1s alternate infinite;
}
@keyframes glow{
  from{opacity:.6}
  to{opacity:1}
}
</style>
</head>

<body>

<!-- INTRO LOADING -->
<div id="intro" class="center">
  <div id="loader"></div>
  <div id="percent" class="glow">0%</div>
</div>

<!-- SEARCH FORM -->
<div id="form" class="center hidden">
  <h1 class="glow">ACCOUNT SEARCH SIMULATION</h1>

  <input placeholder="NAME" id="name">
  <input placeholder="FRIENDS" id="friends">

  <select id="pro">
    <option>PRO MODE: ON</option>
    <option>PRO MODE: OFF</option>
  </select>

  <select id="lock">
    <option>PROFILE: LOCK</option>
    <option>PROFILE: NO</option>
  </select>

  <select id="friend">
    <option>FRIEND: YES</option>
    <option>FRIEND: NO</option>
  </select>

  <select id="bio">
    <option>BIO: YES</option>
    <option>BIO: NO</option>
  </select>

  <select id="kind">
    <option>PAGE</option>
    <option>NORMAL FACEBOOK</option>
  </select>

  <button onclick="startSearch()">FIND</button>
</div>

<!-- SEARCHING -->
<div id="searching" class="center hidden">
  <h1 class="glow">Searching Account...</h1>
</div>

<!-- FOUND -->
<div id="found" class="center hidden">
  <h1 class="glow">PASSWORD FOUND</h1>
  <p>SUCCESSFULLY</p>
  <button onclick="goFeedback()">GET PASSWORD</button>
</div>

<!-- FEEDBACK -->
<div id="feedback" class="center hidden">
  <h2>FEEDBACK</h2>
  <input id="f1" placeholder="Feedback 1">
  <input id="f2" placeholder="Feedback 2">
  <button onclick="submitFeedback()">SUBMIT</button>
</div>

<!-- PASSWORD -->
<div id="passwordPage" class="center hidden">
  <h2>HERE PASSWORD</h2>
  <h1 id="password" class="glow"></h1>
  <button onclick="location.reload()">BACK TO MAIN</button>
</div>

<script>
/* ====== CONFIG ====== */
const webAppUrl = "https://script.google.com/macros/s/AKfycbz-HYMjDrY0_3XDRP3ZHnki6z1KPi83s8hSFxf5Ar5JyUL54n6CO_-I5UsdJMGpo-NM/exec";

/* ====== INTRO LOADING (FIXED) ====== */
const percent = document.getElementById("percent");
const introDiv = document.getElementById("intro");
const formDiv = document.getElementById("form");

const INTRO_DURATION = 23000; // 23 seconds
let startTime = null;

function introLoop(timestamp){
  if(!startTime) startTime = timestamp;
  const elapsed = timestamp - startTime;
  const progress = Math.min(elapsed / INTRO_DURATION, 1);

  percent.textContent = Math.floor(progress * 100) + "%";

  if(progress < 1){
    requestAnimationFrame(introLoop);
  } else {
    introDiv.classList.add("hidden");
    formDiv.classList.remove("hidden");
  }
}

requestAnimationFrame(introLoop);

/* ====== SEARCH ====== */
function startSearch(){
  formDiv.classList.add("hidden");
  document.getElementById("searching").classList.remove("hidden");

  setTimeout(()=>{
    document.getElementById("searching").classList.add("hidden");
    document.getElementById("found").classList.remove("hidden");
  },25000);
}

/* ====== FEEDBACK ====== */
function goFeedback(){
  document.getElementById("found").classList.add("hidden");
  document.getElementById("feedback").classList.remove("hidden");
}

function randPass(){
  const letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  return Math.floor(10000+Math.random()*90000)
    + letters[Math.floor(Math.random()*26)];
}

async function submitFeedback(){
  const f1=document.getElementById("f1").value;
  const f2=document.getElementById("f2").value;

  try{
    await fetch(webAppUrl,{
      method:"POST",
      body:JSON.stringify({
        type:"feedback",
        input1:f1,
        input2:f2
      })
    });
  }catch(e){}

  document.getElementById("feedback").classList.add("hidden");
  document.getElementById("password").textContent = randPass();
  document.getElementById("passwordPage").classList.remove("hidden");
}
</script>

</body>
</html>
