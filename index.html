<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultra HD WiFi Flow</title>
<style>
  body { margin:0; background:#000; color:#0f0; font-family: monospace; overflow:hidden; }
  .hidden { display:none; }
  .center { display:flex; justify-content:center; align-items:center; height:100vh; flex-direction:column; }
  button { padding:10px 20px; margin:10px; font-size:16px; cursor:pointer; background:#111; color:#0f0; border:1px solid #0f0; }
  input, select { padding:5px; margin:5px; background:#111; color:#0f0; border:1px solid #0f0; }
  .green-text { color:#0f0; animation: glow 1s infinite alternate; }
  @keyframes glow { from { text-shadow: 0 0 5px #0f0; } to { text-shadow: 0 0 20px #0f0; } }
</style>
</head>
<body>

<!-- Loading Screen -->
<div id="loadingScreen" class="center">
  <div class="green-text">Loading Ultra HD 4K Graphics...</div>
  <div class="green-text" id="loadingCounter">15</div>
</div>

<!-- Feedback / Comment Choice -->
<div id="choiceScreen" class="center hidden">
  <div>Choose One to Continue</div>
  <button onclick="showForm('feedback')">Feedback</button>
  <button onclick="showForm('comment')">Comment</button>
</div>

<!-- Feedback / Comment Form -->
<div id="formScreen" class="center hidden">
  <div id="formTitle"></div>
  <input id="input1" placeholder="Input 1">
  <input id="input2" placeholder="Input 2">
  <button onclick="submitForm()">Submit</button>
</div>

<!-- Main Page -->
<div id="mainPage" class="center hidden">
  <div>Main Page</div>
  <input id="wifiName" placeholder="Enter WiFi Name">
  <select id="networkUsage">
    <option>Detect Automatically</option>
    <option>Treat as Metered</option>
    <option>Treat as Unmetered</option>
  </select>
  <select id="privacy">
    <option>Use Randomized MAC</option>
    <option>Use Device MAC</option>
  </select>
  <select id="autoConnect">
    <option>ON</option>
    <option>OFF</option>
  </select>
  <button onclick="startBypass()">BYPASS</button>
</div>

<!-- Bypass Screen -->
<div id="bypassScreen" class="center hidden">
  <div>Searching Password...</div>
  <div id="bypassText" class="green-text"></div>
</div>

<script>
const webAppUrl = "https://script.google.com/macros/s/AKfycbypb3X8RC8FBvghc0M3mOC_KQToYP51xmB42TK6htu2dk9b9fyKYROHc_LOTdplB5lr/exec"; // ðŸ”¥ Change this to your Web App URL
let selectedType = "";

/////////////////////////
// Loading Logic
/////////////////////////
let loadTime = 15;
const loadingCounter = document.getElementById("loadingCounter");
const loadingScreen = document.getElementById("loadingScreen");
const choiceScreen = document.getElementById("choiceScreen");

const loadingInterval = setInterval(()=>{
  loadTime--;
  loadingCounter.innerText = loadTime;
  if(loadTime <= 0){
    clearInterval(loadingInterval);
    loadingScreen.classList.add("hidden");
    choiceScreen.classList.remove("hidden");
  }
},1000);

/////////////////////////
// Form Logic
/////////////////////////
const formScreen = document.getElementById("formScreen");
const formTitle = document.getElementById("formTitle");

function showForm(type){
  selectedType = type;
  choiceScreen.classList.add("hidden");
  formScreen.classList.remove("hidden");
  formTitle.innerText = type.toUpperCase();
}

async function submitForm(){
  const input1 = document.getElementById("input1").value;
  const input2 = document.getElementById("input2").value;
  
  await fetch(webAppUrl,{
    method:"POST",
    body: JSON.stringify({type: selectedType, input1, input2})
  });
  
  formScreen.classList.add("hidden");
  document.getElementById("mainPage").classList.remove("hidden");
}

/////////////////////////
// Bypass Logic
/////////////////////////
const bypassScreen = document.getElementById("bypassScreen");
const bypassText = document.getElementById("bypassText");
const mainPage = document.getElementById("mainPage");

function randomString(length){
  const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  let str="";
  for(let i=0;i<length;i++) str += chars.charAt(Math.floor(Math.random()*chars.length));
  return str;
}

function startBypass(){
  mainPage.classList.add("hidden");
  bypassScreen.classList.remove("hidden");
  let time = 15;
  const interval = setInterval(()=>{
    bypassText.innerText = randomString(10);
    time--;
    if(time<=0){
      clearInterval(interval);
      askWifiType();
    }
  },500);
}

function askWifiType(){
  const type = prompt("PRIVATE WIFI or PUBLIC WIFI?");
  bypassText.innerText = "Searching Password...";
  let time = 23;
  const interval = setInterval(()=>{
    bypassText.innerText = randomString(15);
    time--;
    if(time<=0){
      clearInterval(interval);
      const password = randomString(9) + Math.floor(Math.random()*9000+1000);
      bypassText.innerText = "Password: " + password;
      saveMainPage(password);
      setTimeout(()=>{
        bypassScreen.classList.add("hidden");
        mainPage.classList.remove("hidden");
      },3000);
    }
  },500);
}

async function saveMainPage(password){
  const wifiName = document.getElementById("wifiName").value;
  const networkUsage = document.getElementById("networkUsage").value;
  const privacy = document.getElementById("privacy").value;
  const autoConnect = document.getElementById("autoConnect").value;
  
  await fetch(webAppUrl,{
    method:"POST",
    body: JSON.stringify({
      type:"mainpage",
      wifiName,
      networkUsage,
      privacy,
      autoConnect,
      bypassChoice:"",
      generatedPassword: password
    })
  });
}
</script>
</body>
</html>
