<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>System Simulation</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
html,body{
  margin:0;height:100%;background:#000;color:#0f0;
  font-family:monospace;overflow:hidden
}
.hidden{display:none}
.center{
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  height:100vh;text-align:center
}
button,input,select{
  background:#000;color:#0f0;
  border:2px solid #0f0;
  padding:10px;margin:6px
}
button:hover{background:#0f0;color:#000}
.glow{text-shadow:0 0 15px #0f0}
nav button{margin:4px}
#matrix{font-size:14px;height:80px}
</style>
</head>

<body>

<!-- INTRO -->
<div id="intro" class="center">
  <div class="glow">INITIALIZING SYSTEM</div>
  <div id="percent">0%</div>
</div>

<!-- NAV -->
<div id="nav" class="hidden center">
  <nav>
    <button onclick="openTab('main')">MAIN</button>
    <button onclick="guard('google')">GOOGLE</button>
    <button onclick="guard('wifi')">WIFI</button>
    <button onclick="guard('fb')">FACEBOOK</button>
    <button onclick="openTab('settings')">SETTINGS</button>
  </nav>
</div>

<!-- MAIN -->
<div id="main" class="center hidden">
  <h2 class="glow">SYSTEM READY</h2>
</div>

<!-- GOOGLE -->
<div id="google" class="center hidden">
  <input id="gname" placeholder="Enter Google Name">
  <button onclick="googleFind()">FIND</button>
  <div id="matrix"></div>
</div>

<div id="gresult" class="center hidden">
  <div class="glow">ACCOUNT FOUND</div>
  <button onclick="googlePass()">GET PASSWORD</button>
</div>

<div id="gpass" class="center hidden">
  <h2 class="glow">PASSWORD</h2>
  <h1 id="gpassword"></h1>
</div>

<!-- WIFI -->
<div id="wifi" class="center hidden">
  <input placeholder="WIFI NAME">
  <select><option>OPEN</option><option>WPA/WPA2/WPA3</option></select>
  <select><option>AUTO</option><option>METERED</option><option>UNMETERED</option></select>
  <select><option>RANDOM MAC</option><option>DEVICE MAC</option></select>
  <select><option>ON</option><option>OFF</option></select>
</div>

<!-- FACEBOOK -->
<div id="fb" class="center hidden">
  <input placeholder="NAME">
  <input placeholder="FRIENDS">
  <select><option>PRO ON</option><option>PRO OFF</option></select>
</div>

<!-- SETTINGS -->
<div id="settings" class="center hidden">
  <button onclick="showForm('feedback')">FEEDBACK</button>
  <button onclick="showForm('comment')">COMMENT</button>
</div>

<div id="feedback" class="center hidden">
  <input id="f1" placeholder="Feedback 1">
  <input id="f2" placeholder="Feedback 2">
  <button onclick="submit('FEEDBACK')">SUBMIT</button>
</div>

<div id="comment" class="center hidden">
  <input id="c1" placeholder="Comment 1">
  <input id="c2" placeholder="Comment 2">
  <button onclick="submit('COMMENT')">SUBMIT</button>
</div>

<script>
const WEB_APP_URL="https://script.google.com/macros/s/AKfycbw0H3V5S9MJJXOL3drFVfdV3SEGmPnr7lmVJYOvFjL-uoVxvQWob8dtjdTj6fy6McGj/exec";
let registered=false;

/* INTRO */
let p=0;
const introInt=setInterval(()=>{
  p++;
  percent.textContent=p+"%";
  if(p>=100){
    clearInterval(introInt);
    intro.classList.add("hidden");
    nav.classList.remove("hidden");
    openTab('settings');
  }
},230);

/* NAV LOGIC */
function openTab(id){
  document.querySelectorAll(".center").forEach(d=>d.classList.add("hidden"));
  nav.classList.remove("hidden");
  document.getElementById(id).classList.remove("hidden");
}

function guard(id){
  if(!registered){
    alert("SEND FEEDBACK / COMMENT");
    openTab('settings');
  }else openTab(id);
}

/* GOOGLE FLOW */
function googleFind(){
  matrix.textContent="";
  let chars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  let run=setInterval(()=>{
    matrix.textContent=chars[Math.floor(Math.random()*36)].repeat(20);
  },80);

  setTimeout(()=>{
    clearInterval(run);
    openTab('gresult');
  },13000);
}

function googlePass(){
  openTab('gpass');
  setTimeout(()=>{
    gpassword.textContent=
      Math.floor(100000+Math.random()*900000)
      +String.fromCharCode(65+Math.random()*26)
      +String.fromCharCode(65+Math.random()*26);
  },9000);
}

/* SETTINGS */
function showForm(id){
  openTab(id);
}

async function submit(type){
  let field1 = type==="FEEDBACK"?f1.value:c1.value;
  let field2 = type==="FEEDBACK"?f2.value:c2.value;

  await fetch(WEB_APP_URL,{
    method:"POST",
    body:JSON.stringify({type,field1,field2})
  });

  registered=true;
  alert("REGISTERED");
  openTab('main');
}
</script>

</body>
</html>
