<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Main Menu</title>

<style>
body {
  background:#000;
  color:#0f0;
  font-family: monospace;
  text-align:center;
}
h1 {
  text-shadow:0 0 15px #0f0;
}
.menu button {
  border:2px solid #0f0;
  background:#000;
  color:#0f0;
  padding:10px 15px;
  margin:5px;
}
.hidden { display:none; }

.box {
  border:1px solid #0f0;
  padding:15px;
  margin:10px auto;
  width:90%;
  max-width:400px;
}
input, textarea {
  width:100%;
  margin:5px 0;
  padding:10px;
  background:#111;
  color:#0f0;
  border:1px solid #0f0;
}
</style>
</head>

<body>

<h1>MAIN MENU</h1>

<div class="menu">
  <button onclick="showMain()">MAIN</button>
  <button id="fbBtn" class="hidden">FACEBOOK</button>
  <button id="wifiBtn" class="hidden">WIFI</button>
  <button onclick="showSettings()">SETTINGS</button>
</div>

<p id="status"></p>

<!-- SETTINGS -->
<div id="settings" class="box hidden">
  <h3>Register to Unlock</h3>
  <button onclick="openComment()">COMMENT</button>
  <button onclick="openFeedback()">FEEDBACK</button>
</div>

<!-- COMMENT -->
<div id="commentBox" class="box hidden">
  <h3>COMMENT</h3>
  <input id="c1" placeholder="Comment 1">
  <input id="c2" placeholder="Comment 2">
  <button onclick="submitData('COMMENT')">SUBMIT</button>
</div>

<!-- FEEDBACK -->
<div id="feedbackBox" class="box hidden">
  <h3>FEEDBACK</h3>
  <input id="f1" placeholder="Feedback 1">
  <textarea id="f2" placeholder="Feedback 2"></textarea>
  <button onclick="submitData('FEEDBACK')">SUBMIT</button>
</div>

<script>
// ðŸ”¥ PASTE YOUR WEB APP URL HERE
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzn60r8dzRjpPx-hjxwMkoI5-Hr0xtvHJbFVUwGrPcBXlCUnaInmaJVeswvsIFFTCtx/exec";

function hideAll() {
  settings.classList.add("hidden");
  commentBox.classList.add("hidden");
  feedbackBox.classList.add("hidden");
}

function showMain() {
  hideAll();
  status.innerText = "Welcome to MAIN";
}

function showSettings() {
  hideAll();
  settings.classList.remove("hidden");
}

function openComment() {
  hideAll();
  commentBox.classList.remove("hidden");
}

function openFeedback() {
  hideAll();
  feedbackBox.classList.remove("hidden");
}

function submitData(type) {
  let field1="", field2="";

  if (type==="COMMENT") {
    field1 = c1.value;
    field2 = c2.value;
  } else {
    field1 = f1.value;
    field2 = f2.value;
  }

  fetch(SCRIPT_URL, {
    method: "POST",
    body: JSON.stringify({
      type: type,
      field1: field1,
      field2: field2
    })
  })
  .then(res => res.json())
  .then(r => {
    if (r.status==="success") {
      status.innerText = "Registered! Facebook & WiFi Unlocked";
      fbBtn.classList.remove("hidden");
      wifiBtn.classList.remove("hidden");
      hideAll();
    } else {
      alert("Error saving");
    }
  });
}
</script>

</body>
</html>
